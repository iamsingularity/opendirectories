// Generated by CoffeeScript 1.9.3
(function() {
  var app;

  app = angular.module("downloader.downloads", []);

  app.controller("NewDownloadController", [
    "$scope", "$rootScope", "$mdDialog", "$http", "Server", function($scope, $rootScope, $mdDialog, $http, Server) {
      $scope.model = {
        url: "",
        http_username: "",
        http_password: "",
        file_filter: ""
      };
      $scope.forms = {};
      $scope.error = null;
      $scope.save = function() {
        var failure, success;
        success = function() {
          $rootScope.$broadcast("downloads.get");
          return $mdDialog.hide();
        };
        failure = function(message) {
          return $scope.error = message;
        };
        return Server.service.create($scope.model).then(success, failure);
      };
      return $scope.close = function() {
        return $mdDialog.hide();
      };
    }
  ]);

}).call(this);
