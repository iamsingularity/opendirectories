<!-- content panel -->
<md-content class="content" layout="column">
  <md-subheader>
    {{downloads.queued}} Queued - 
    {{downloads.started}} Started - 
    {{downloads.finished}} Finished - 
    {{downloads.error}} Error - 
    {{downloads.cancelled}} Cancelled - 
    {{downloads.total}} Total
    <md-button class="md-warn" ng-click="clearDownloads()">clear</md-button>
  </md-subheader>
  <md-list>
    <md-list-item class="md-whiteframe-z1 md-3-line download" ng-repeat="download in downloads.items" layout="row">          
      <ng-md-icon icon="{{download.icon}}" 
                  title="{{download.status}}" 
                  class="status-icon status-{{download.status}}" 
                  ng-class="{pointer : download.hasPointer}" 
                  size="35" 
                  flex="10" 
                  ng-click="download.visible = !download.visible"></ng-md-icon>

      <div class="md-list-item-text" flex="85">
        <h3 class="url">
          {{ download.url }}<br />
          <small>Added by {{download.user.email}}</small>
          <div layout="row">
            <md-button ng-if="download.canCancel" title="cancel" ng-click="cancelDownload(download)" aria-label="Cancel download"><ng-md-icon icon="cancel" style="fill: orange;"></ng-md-icon></md-button>
            <md-button ng-if="download.canQueue" title="queue" ng-click="queueDownload(download)" aria-label="Queue download"><ng-md-icon icon="queue" style="fill: green;"></ng-md-icon></md-button>
            <span flex></span>
            <md-button ng-if="download.canDelete" title="delete" ng-click="deleteDownload(download)" aria-label="Delete download"><ng-md-icon icon="delete" style="fill: red;"></ng-md-icon></md-button>
          </div>
        </h3>            
        <p class="times">
          <div ng-if="download.visible">
            <div ng-if="download.started_at">
              Started at: {{ download.started_at | date : 'dd MMM yyyy H:mm'}}
            </div>
            <div ng-if="download.finished_at">
              Finished at: {{ download.finished_at | date : 'dd MMM yyyy H:mm'}}
            </div>
            <div ng-if="download.error" class="error">
              <h2>Error</h2>
              <p>{{download.error}}</p>
            </div>
          </div>
        </p>
      </div>          
    </md-list-item>
  </md-list>
  

</md-content>