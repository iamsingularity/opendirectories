// Generated by CoffeeScript 1.9.3
(function() {
  var app;

  app = angular.module("opendl-downloader.auth", []);

  app.controller("authController", [
    "$scope", "$rootScope", "Server", "$auth", "Logging", "$mdDialog", function($scope, $rootScope, Server, $auth, Logging, $mdDialog) {
      $scope.model = {
        email: "",
        password: ""
      };
      return $scope.logIn = function() {
        $scope.error = "";
        return $auth.submitLogin($scope.model).then(function(d) {
          $mdDialog.hide();
          $rootScope.$broadcast("reload");
          return $rootScope.$emit("reload");
        })["catch"](function(d) {
          return $scope.error = d.errors.join(", ");
        });
      };
    }
  ]);

}).call(this);
